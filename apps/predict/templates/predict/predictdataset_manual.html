{% extends "base.html" %}
{% load static %}

{% block title %}Manually Mutations Entry{% endblock %}

{% block content %}
  <div class="row">
    <div class="col-lg-12">
      <h1 class="page-header">Manual Mutations Entry
      <small>Specify mutations manually instead of uploading.</small><h1>
    </div>
  </div>
  <div class = "row">
    <div class="col-md-6 portfolio-item">
      <p>Enter each of the mutations manually, any mutations not added will be considered to have been NOT found. There is no way to specify that mutations have not been tested for.

      {% if form.errors %}
        <div class="alert alert-danger" role="alert">Please check the errors below
          {{ form.non_field_errors }}
        </div>
      {% endif %}

      <form action="{% url 'predict:upload' %}" enctype="multipart/form-data" method="post">
        {% csrf_token %}
        {% for hidden in form.hidden_fields %}
          {{ hidden }}
        {% endfor %}

        <table class="table-condensed content-to-top">
          <tr>
            <th colspan="2" class="text-center">Dataset information</th>
          </tr>
          {% for field in form.visible_fields %}
            <tr {% if field.id_for_label == 'id_fastq_type' %}id="row_id_fastq_type" style="display:none;"{% endif %}>
              <th class="text-primary">{{ field.label_tag }}{% if field.field.required %} <span class="text-warning">*</span>{% endif %}</th>
              <td>{{ field }}
                {% if field.help_text %}
                  <p>{{ field.help_text|safe }}</p>
                {% endif %}
                {% if field.errors %}
                  <span class="text-danger">
                     {% for error in field.errors %}
                       <br />{{ field.label_tag }} {{ error }}
                     {% endfor %}
                  </span>
                {% endif %}
             </td>
            </tr>
          {% endfor %}
          <tr>
            <td colspan="2"><hr /></td>
          </tr>
        </table>
      </form>
    </div>
    <div class="col-md-6 portfolio-item">
      <h3>Instructions</b></h3>
      <p>Select items in the following order:</p>
      <ul>
        <li>The drug name</li>
        <li>Gene locus</li>
        <li>Gene mutation name</li>
      </ul>
      <p>Once selected, press the + button to add. If you do not add the selection, it will not be saved.</p>
    </div>
  </div>
{% endblock %}
