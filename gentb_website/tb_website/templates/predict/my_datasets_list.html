{% load predict_extras %}

<p><b>Number of datasets:</b> {{ datasets.count }}</p>

<table id="dataset-list" class="table table-striped table-bordered table-condensed">
    <thead>
        <tr>
            <th class="text-center">&nbsp;</th>
            <th class="text-center">Title</th>
            <th class="text-center">Status</th>
            <th class="text-center">Description</th>
            <th class="text-center">File(s)</th>
            <th class="text-center">Created</th>
        </tr>
    </thead>
    <tbody>
{% for ds in datasets %}
    <tr>
        <td>{{ forloop.counter }}</td>
        <td><a href="{% url 'view_single_dataset' ds.md5 %}">{{ ds.title }}</a></td>
        <td{% if ds.has_prediction %} class="success"{% endif %}>{{ ds.status.name }}</td>
        <td>{{ ds.description|truncatewords:20 }}</td>
        <td>{{ ds.filename1 }} ({{ ds.file1.file.size|readable_filesize }})
            {% if ds.file2 %}
            <br />{{ ds.filename2 }} ({{ ds.file2.file.size|readable_filesize }})
            {% endif %}
        </td>
        <td>{{ ds.created }}</td>
    </tr>
{% empty %}
    <tr>
        <td colspan="4">(no datasets found)</td>
    </tr>
{% endfor %}
    </tbody>
</table>